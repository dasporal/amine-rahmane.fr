---
import Layout from '@/layouts/Layout.astro'
import { Image } from 'astro:assets'
import { ModeToggle } from '@/components/ModeToggle'
import Footer from '@/components/Footer.astro'

import ProjectCard from '@/components/ProjectCard.astro'
import Thronocrigger from '@/components/Thronocrigger.astro'

import laravel from '@/assets/technologies/laravel.svg'
import typescript from '@/assets/technologies/typescript.svg'
import svelte from '@/assets/technologies/svelte.svg'
import react from '@/assets/technologies/react.svg'
import go from '@/assets/technologies/go.svg'
import terraform from '@/assets/technologies/terraform.svg'
import docker from '@/assets/technologies/docker.svg'

import me from '@/assets/images/meround2023.png'
import samuelhebting from '@/assets/projects/samuel-hebting/logo.svg'
import samuelhebtingDark from '@/assets/projects/samuel-hebting/logo.png'
import amsecurite from '@/assets/projects/am-securite/logo.png'
import reciple from '@/assets/projects/reciple/logo.gif'
import petitponey from '@/assets/projects/petit-poney/logo.png'
import remarqr from '@/assets/projects/remarqr/logo.svg'
---

<script is:inline>
  const getThemePreference = () => {
    if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
      return localStorage.getItem('theme')
    }
    return window.matchMedia('(prefers-color-scheme: dark)').matches
      ? 'dark'
      : 'light'
  }
  const isDark = getThemePreference() === 'dark'
  document.documentElement.classList[isDark ? 'add' : 'remove']('dark')

  if (typeof localStorage !== 'undefined') {
    const observer = new MutationObserver(() => {
      const isDark = document.documentElement.classList.contains('dark')
      localStorage.setItem('theme', isDark ? 'dark' : 'light')
    })
    observer.observe(document.documentElement, {
      attributes: true,
      attributeFilter: ['class'],
    })
  }
</script>
<Layout title="Amine Rahmane | Accueil">
  <div class="fixed right-6 top-6"><ModeToggle client:load /></div>
  <div class="flex flex-col w-full min-h-screen justify-between">
    <main class="container mx-auto flex flex-col gap-4 py-4 px-8">
      <div
        class="flex flex-col items-center md:items-stretch md:flex-row justify-center gap-8 md:gap-12 py-8">
        <Image
          src={me}
          alt="Une photo d'Amine Rahmane."
          class="rounded-full w-1/3 md:w-1/5"
        />
        <div class="flex flex-col gap-8 md:gap-0">
          <h1
            class="font-satoshi space-y-2 scroll-m-20 text-4xl font-extrabold tracking-tight lg:leading-tight lg:text-5xl">
            <span class="text-background bg-primary px-2">Amine Rahmane,</span>
            développeur et créateur d'identité.
          </h1>

          <div
            class="flex flex-row flex-wrap flex-grow items-center justify-center gap-8">
            <Image
              src={laravel}
              alt="Svelte logo."
              class="w-12 h-12 md:w-24 md:h-24"
            />
            <Image
              src={typescript}
              alt="Svelte logo."
              class="w-12 h-12 md:w-24 md:h-24"
            />
            <Image
              src={svelte}
              alt="Svelte logo."
              class="w-12 h-12 md:w-24 md:h-24"
            />
            <Image
              src={react}
              alt="React logo."
              class="w-12 h-12 md:w-24 md:h-24"
            />
            <Image
              src={go}
              alt="React logo."
              class="w-12 h-12 md:w-24 md:h-24"
            />
            <Image
              src={terraform}
              alt="React logo."
              class="w-12 h-12 md:w-24 md:h-24"
            />
            <Image
              src={docker}
              alt="React logo."
              class="w-12 h-12 md:w-24 md:h-24"
            />
          </div>
        </div>
      </div>
      <div class="space-y-4">
        <h2
          class="scroll-m-20 bg-primary text-background px-4 border-b font-satoshi pb-2 text-3xl font-semibold tracking-tight first:mt-0">
          Projets.
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-2">
          <ProjectCard
            title="Petit Poney Bar"
            project="Design et déploiement"
            link="https://petitponey-bar.fr/"
            image={petitponey}
          />
          <Thronocrigger
            title="Thronocrigger"
            project="Portfolio redesign"
            link="https://thronocrigger.com"
          />
          <ProjectCard
            title="Samuel Hebting"
            project="Design et déploiement"
            link="https://samuel-hebting.fr"
            image={samuelhebting}
            imageDark={samuelhebtingDark}
          />
          <ProjectCard
            title="Reciple"
            project="Wordle like centré autour de la nourriture"
            link="https://reciple.net"
            image={reciple}
          />
          <ProjectCard
            title="Remarqr"
            project="Le feedback. Réimaginé."
            link="https://remarqr.dev"
            image={remarqr}
          />
          <ProjectCard
            title="AM-Sécurité"
            project="Design et déploiement."
            link="https://am-securite.fr/"
            image={amsecurite}
          />
        </div>
      </div>
    </main>
    <Footer />
  </div>
</Layout>
